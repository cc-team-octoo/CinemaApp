(this.webpackJsonpcinemaapp=this.webpackJsonpcinemaapp||[]).push([[0],{118:function(e,n,t){e.exports=t(243)},242:function(e,n,t){},243:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),c=t(50),o=t.n(c),i=t(15),l=t(6),u=t(109),s=t(51),m=t(30),p=t(23),d=t(24),h=t(27),f=t(25),b=t(28),v=t(17),g=t.n(v),x=t(110),k=t.n(x).a.create({baseURL:"magic Link"}),O=t(34),E=function(e){var n="/seats/".concat(e.filmId,"/").concat(e.time.split(" ").join(""));return r.a.createElement(s.b,{to:n},r.a.createElement("button",{onClick:e.handleClick},e.time))},w={setFilmToBook:function(e){return{type:"FILM_TO_BOOK_CHOSEN",payload:e}},setTimeOfBooking:function(e){return{type:"TIME_OF_BOOKING_CHOSEN",payload:e}}},y=function(e){function n(e){var t;return Object(p.a)(this,n),(t=Object(h.a)(this,Object(f.a)(n).call(this,e))).screeningTimeList=["4:00 PM","6:30 PM","9:00 PM"],t.handleClick=t.handleClick.bind(Object(O.a)(t)),t}return Object(b.a)(n,e),Object(d.a)(n,[{key:"handleClick",value:function(e){this.props.setFilmToBook(this.props.film.id),this.props.setTimeOfBooking(e.target.innerText)}},{key:"render",value:function(){var e=this,n=this.props.film,t="https://image.tmdb.org/t/p/w300/".concat(n.poster_path);return r.a.createElement("li",null,r.a.createElement("span",null,r.a.createElement("img",{src:t,alt:""})),r.a.createElement("span",null,n.title),r.a.createElement("span",null,n.overview),r.a.createElement("span",null,"Book a ticket:",this.screeningTimeList.map((function(t,a){return r.a.createElement(E,{key:a,time:t,filmId:n.id,handleClick:e.handleClick})}))))}}]),n}(r.a.Component),j=Object(i.b)(null,w)(y),C=function(e){function n(){return Object(p.a)(this,n),Object(h.a)(this,Object(f.a)(n).apply(this,arguments))}return Object(b.a)(n,e),Object(d.a)(n,[{key:"componentDidMount",value:function(){this.props.fetchCurrentFilms()}},{key:"render",value:function(){var e=this.props.currentFilms;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Movie List"),r.a.createElement("ol",null,e.map((function(e){return r.a.createElement(j,{key:e.id,film:e})}))))}}]),n}(a.Component),_=Object(i.b)((function(e){return{currentFilms:e.currentFilms}}),{fetchCurrentFilms:function(){return function(e){var n,t,a;return g.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return a=function(e){var n;return g.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return n=[],a.next=3,g.a.awrap(Promise.all(e.map((function(e){var a;return g.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,g.a.awrap(t(e));case 3:a=r.sent,n.push(a),r.next=10;break;case 7:r.prev=7,r.t0=r.catch(0),console.log("error"+r.t0);case 10:case"end":return r.stop()}}),null,null,[[0,7]])}))));case 3:case"end":return a.stop()}}))},r.next=3,g.a.awrap(k.get());case 3:return n=r.sent,r.t0=console,r.next=7,g.a.awrap(n.data.results);case 7:r.t1=r.sent,r.t0.log.call(r.t0,r.t1),t=function(e){fetch("http://localhost:8000/api/movies",{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({name:e.title,overview:e.overview,hoursArray:[4,6.5,9]})})},a(n.data.results),e({type:"FETCH_CURRENT_FILMS_SUCCESS",payload:n.data.results});case 12:case"end":return r.stop()}}))}}})(C),F=t(13),S=t(14);function T(){var e=Object(F.a)(["\n  font-size: 1.2rem;\n  color: #fafafa;\n  padding: .5rem 1.2rem;\n  border: none;\n  border-radius: 5px;\n  background-color: #2F4858;\n  margin: 10px;\n  cursor: pointer;\n\n  &:disabled, &:disabled&:hover {\n    background-color: rgba(47, 72, 88, .6);\n    box-shadow: none;\n    cursor: default;\n  }\n\n  &:focus, &:active, &:hover {\n    outline: none;\n    background-color: #005263;\n    box-shadow: 2px 4px 8px #87898a;\n  }\n"]);return T=function(){return e},e}function N(){var e=Object(F.a)(["\n  font-size: .8rem;\n  color: #D8000C;\n  background-color: #FFBABA;\n  text-align: center;\n  padding: 2px;\n  margin: 2px;\n"]);return N=function(){return e},e}function I(){var e=Object(F.a)(["\n  border: 1px solid grey;\n  border-radius: 5px;\n  font-size: 1rem;\n  padding: 8px;\n  margin: 5px;\n  min-width: 240px;\n\n  &:focus {\n    outline: none;\n    box-shadow: 2px 4px 8px #87898a;\n  };\n\n  &::placeholder {\n    color: #87898a;\n  }\n"]);return I=function(){return e},e}function B(){var e=Object(F.a)(["\n  margin: 1rem 0;\n"]);return B=function(){return e},e}function M(){var e=Object(F.a)(["\n  display: flex;\n  flex-flow: column nowrap;\n  align-items: center;\n  margin-top: 10px;\n"]);return M=function(){return e},e}function L(){var e=Object(F.a)(["\n  display: flex;\n  flex-flow: column nowrap;\n  align-items: center;\n  max-width: 500px;\n  margin: auto;\n  padding: 1rem 1.5rem;\n  text-align: center;\n  border: 2px solid #2F4858;\n  border-radius: 5px;\n"]);return L=function(){return e},e}function A(){var e=Object(F.a)(["\n  text-align: center;\n  margin: 15px;\n"]);return A=function(){return e},e}function H(){var e=Object(F.a)(["\n  &::before, &::after  {\n    content: '","';\n    margin: 2px;\n    font-size: 12px;\n  }\n"]);return H=function(){return e},e}function R(){var e=Object(F.a)(["\n  // Hide checkbox visually but remain accessible to screen readers.\n  // Source: https://polished.js.org/docs/#hidevisually\n  border: 0;\n  clip: rect(0 0 0 0);\n  clippath: inset(50%);\n  height: 1px;\n  margin: -1px;\n  overflow: hidden;\n  padding: 0;\n  position: absolute;\n  white-space: nowrap;\n  width: 1px;\n"]);return R=function(){return e},e}function z(){var e=Object(F.a)(["\n  display: inline-block;\n  vertical-align: middle;\n"]);return z=function(){return e},e}function P(){var e=Object(F.a)(["\n  height: 20px;\n  width: 20px;\n  border-radius: 5px;\n  background-color: ",";\n  margin: 3px 2px;\n  display: inline-block;\n  cursor: pointer;\n  color: ",";\n  font-size: 12px;\n  line-height: 20px;\n  text-align: center;\n  user-select: none;\n  transition: background-color .1s;\n\n  &:hover {\n      color: #fafafa;\n      background-color: purple;\n  }\n\n  @media (min-width: 400px) {\n    height: 30px;\n    width: 30px;\n    line-height: 30px;\n  }\n"]);return P=function(){return e},e}function U(){var e=Object(F.a)(["\n  text-align: center;\n  color: #fafafa;\n  background-color: #000;\n  width: 280px;\n  border-radius: 5px;\n  font-size: .8rem;\n  padding: 2px;\n  margin: auto;\n\n  @media (min-width: 400px) {\n    width: 350px;\n  }\n"]);return U=function(){return e},e}var D=S.a.div(U()),K=S.a.div(P(),(function(e){return e.checked?"black":"green"}),(function(e){return e.checked?"#fafafa":"green"})),G=S.a.label(z()),J=S.a.input.attrs({type:"checkbox"})(R()),Y=S.a.div(H(),(function(e){return e.rowName})),Z=S.a.div(A()),q=S.a.div(L()),X=S.a.form(M()),V=S.a.p(B()),$=S.a.input(I()),Q=S.a.p(N()),W=S.a.button(T()),ee=function(e){function n(e){var t;return Object(p.a)(this,n),(t=Object(h.a)(this,Object(f.a)(n).call(this,e))).handleCheckboxChange=function(e){return g.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,g.a.awrap(t.setState({checked:e.target.checked}));case 2:t.state.checked?console.log("Seat number ".concat(t.props.id).concat(t.props.rowName," is checked")):console.log("Seat number ".concat(t.props.id).concat(t.props.rowName," was unchecked")),console.log(t.props.taken);case 4:case"end":return n.stop()}}))},t.state={checked:!1},t.handleCheckboxChange.bind(Object(O.a)(t)),t}return Object(b.a)(n,e),Object(d.a)(n,[{key:"render",value:function(){return r.a.createElement(G,{checked:this.state.checked},r.a.createElement(J,{checked:this.state.checked,onChange:this.handleCheckboxChange}),r.a.createElement(K,{checked:this.state.checked},this.props.id))}}]),n}(a.Component),ne=function(e){for(var n=[],t=0;t<10;t++)n.push(r.a.createElement(ee,{id:t+1,key:"seat".concat(t+1),rowName:e.rowName,taken:e.taken}));return r.a.createElement(Y,{rowName:e.rowName},n)},te=function(e){for(var n=[],t=["A","B","C","D","E","F","G","H"],a=0;a<8;a++)n.push(r.a.createElement(ne,{key:"row".concat(a),rowName:t[a],taken:e.taken}));return r.a.createElement(Z,null,n)},ae=t(245),re=t(244),ce=function(e){var n=e.input,t=e.type,a=e.label,c=e.meta,o=c.touched,i=c.error;return r.a.createElement("div",null,r.a.createElement($,Object.assign({},n,{placeholder:a,type:t,autoComplete:"off"})),o&&i&&r.a.createElement(Q,null,i))},oe=Object(re.a)({form:"reservationForm",validate:function(e){var n=e.username,t=e.email,a={};return n?n.length>15&&(a.username="The name can have max 15 characters"):a.username="Your name is required",t?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(t)||(a.email="Invalid email address"):a.email="Your email is required",a}})((function(e){var n=e.handleSubmit,t=e.pristine,a=e.submitting;return r.a.createElement(q,null,r.a.createElement("h2",null,"Reservation form"),r.a.createElement(V,null,"To make a reservation, please put here your name and email address so we can send you a confirmation message with all further details"),r.a.createElement(X,{onSubmit:n((function(e){return console.log("You made a reservation of seats: . It's been registered under the name of ".concat(e.username," and a confirmation email was sent to an address: ").concat(e.email))}))},r.a.createElement(ae.a,{name:"username",type:"text",component:ce,label:"username"}),r.a.createElement(ae.a,{name:"email",type:"email",component:ce,label:"email"}),r.a.createElement("div",null,r.a.createElement(W,{type:"submit",disabled:t||a},"Submit"))))})),ie=function(e){function n(e){var t;return Object(p.a)(this,n),(t=Object(h.a)(this,Object(f.a)(n).call(this,e))).state={taken:"1A"},t}return Object(b.a)(n,e),Object(d.a)(n,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Choose your seats for the movie"),r.a.createElement(D,null,"screen"),r.a.createElement(te,{taken:this.state.taken}),r.a.createElement(oe,null))}}]),n}(a.Component),le=function(){var e=Object(i.c)((function(e){return e.currentFilms}));return r.a.createElement("div",null,r.a.createElement(s.a,null,r.a.createElement("div",null,r.a.createElement(m.c,null,r.a.createElement(m.a,{path:"/",exact:!0,component:_}),r.a.createElement(m.a,{path:"/film",exact:!0,component:j}),e.map((function(e,n){var t="/seats/".concat(e.id,"/:hour");return r.a.createElement(m.a,{key:n,path:t,exact:!0,component:ie})}))))))},ue=t(246),se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"FETCH_CURRENT_FILMS_SUCCESS":return n.payload;default:return e}},me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"FILM_TO_BOOK_CHOSEN":return n.payload;default:return e}},pe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"TIME_OF_BOOKING_CHOSEN":return n.payload;default:return e}},de=Object(l.c)({form:ue.a,currentFilms:se,bookedFilm:me,bookingTime:pe}),he=(t(242),window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||l.d),fe=Object(l.e)(de,he(Object(l.a)(u.a)));o.a.render(r.a.createElement(i.a,{store:fe},r.a.createElement(le,null)),document.getElementById("root"))}},[[118,1,2]]]);
//# sourceMappingURL=main.f94c757e.chunk.js.map